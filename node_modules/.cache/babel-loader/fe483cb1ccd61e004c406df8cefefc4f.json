{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\jtset\\\\OneDrive\\\\Documents\\\\Code\\\\Projects\\\\minesweeper\\\\minesweeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"C:\\\\Users\\\\jtset\\\\OneDrive\\\\Documents\\\\Code\\\\Projects\\\\minesweeper\\\\minesweeper\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\users\\\\jtset\\\\OneDrive\\\\Documents\\\\Code\\\\Projects\\\\minesweeper\\\\minesweeper\\\\src\\\\Minesweeper\\\\MinesweeperView.js\",\n    _this3 = this;\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  img {\\n    pointer-events: none;\\n  }\\n  .mine__drop-downs {\\n    position: absolute;\\n    display: flex;\\n    height: 20px;\\n  }\\n  .mine__drop-down {\\n    position: relative;\\n    z-index: 1;\\n  }\\n  .mine__drop-down__title {\\n    padding: 0 5px;\\n    height: 100%;\\n    line-height: 20px;\\n    font-size: 11px;\\n    color: white;\\n    background-color: #1660e8;\\n  }\\n  .mine__drop-down__menu {\\n    background-color: white;\\n    position: absolute;\\n    box-shadow: 2px 2px 1px rgb(100, 100, 100);\\n    border: 1px solid gray;\\n    padding: 2px;\\n    display: grid;\\n    grid-template-columns: 18px auto auto 15px;\\n    line-height: 18px;\\n    font-size: 11px;\\n  }\\n  .mine__drop-down__row {\\n    display: contents;\\n    &:hover > * {\\n      background: #e99f17;\\n      filter: invert(100%);\\n    }\\n  }\\n  .mine__drop-down__separator {\\n    grid-column: 1 / 5;\\n    height: 1px;\\n    background-color: gray;\\n    margin: 3px 1px;\\n  }\\n  .mine__drop-down__check {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n  }\\n  .mine__drop-down__arrow {\\n  }\\n  .mine__drop-down__hot-key {\\n    padding-left: 5px;\\n  }\\n  .mine__drop-down__text {\\n    white-space: nowrap;\\n  }\\n  .mine__top-bar {\\n    position: relative;\\n    display: flex;\\n    height: 20px;\\n    background-color: rgb(236, 233, 216);\\n  }\\n  .mine__top-bar__text {\\n    padding: 0 5px;\\n    height: 100%;\\n    line-height: 20px;\\n    font-size: 11px;\\n    &:hover {\\n      color: \", \";\\n      background-color: \", \";\\n    }\\n  }\\n  .mine__content {\\n    border-left: rgb(245, 245, 245) solid 3px;\\n    border-top: rgb(245, 245, 245) solid 3px;\\n    background-color: rgb(192, 192, 192);\\n    padding: 5px;\\n  }\\n  .mine__score-bar {\\n    height: 34px;\\n    border-radius: 1px;\\n    border-top: rgb(128, 128, 128) solid 2px;\\n    border-left: rgb(128, 128, 128) solid 2px;\\n    border-right: rgb(245, 245, 245) solid 2px;\\n    border-bottom: rgb(245, 245, 245) solid 2px;\\n    margin-bottom: 5px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 3px 7px 3px 4px;\\n  }\\n  .mine__digits__outer {\\n    width: 40px;\\n    height: 24px;\\n    border-width: 0 1px 1px 0;\\n    border-style: solid;\\n    border-color: #fff;\\n    text-align: right;\\n  }\\n  .mine__face__outer {\\n    width: 24px;\\n    height: 24px;\\n    border-top: 1px solid rgb(128, 128, 128);\\n    border-left: 1px solid rgb(128, 128, 128);\\n    border-radius: 2px;\\n    transform: translateX(1px);\\n  }\\n  .mine__face {\\n    border-radius: 2px;\\n    height: 100%;\\n    width: 100%;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: rgb(192, 192, 192);\\n    border-width: 2px;\\n    border-style: solid;\\n    border-color: rgb(245, 245, 245) rgb(128, 128, 128) rgb(128, 128, 128)\\n      rgb(245, 245, 245);\\n    outline: none;\\n    &:active:hover {\\n      border-width: 1px;\\n      border-color: rgb(128, 128, 128);\\n      img {\\n        transform: translate(1px, 1px);\\n      }\\n      img:nth-child(1) {\\n        display: none;\\n      }\\n      img:nth-child(2) {\\n        display: block;\\n      }\\n    }\\n    img:nth-child(2) {\\n      display: none;\\n    }\\n  }\\n  .mine__content__inner {\\n    display: grid;\\n    grid-template-columns: repeat(\", \", 16px);\\n    grid-template-rows: repeat(\", \", 16px);\\n    border-top: rgb(128, 128, 128) solid 3px;\\n    border-left: rgb(128, 128, 128) solid 3px;\\n    border-right: rgb(245, 245, 245) solid 3px;\\n    border-bottom: rgb(245, 245, 245) solid 3px;\\n  }\\n  .mine__ceil {\\n    position: relative;\\n    img {\\n      position: absolute;\\n      width: 16px;\\n      height: 16px;\\n    }\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  width: 16px;\\n  height: 16px;\\n  border-left: rgb(128, 128, 128) solid 1px;\\n  border-top: rgb(128, 128, 128) solid 1px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  width: 16px;\\n  height: 16px;\\n  border-left: rgb(245, 245, 245) solid 2px;\\n  border-top: rgb(245, 245, 245) solid 2px;\\n  border-right: rgb(128, 128, 128) solid 2px;\\n  border-bottom: rgb(128, 128, 128) solid 2px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport dead from '../assets/dead.png';\nimport smile from '../assets/smile.png';\nimport win from '../assets/win.png';\nimport ohh from '../assets/ohh.png';\nimport empty from '../assets/empty.png';\nimport open1 from '../assets/open1.png';\nimport open2 from '../assets/open2.png';\nimport open3 from '../assets/open3.png';\nimport open4 from '../assets/open4.png';\nimport open5 from '../assets/open5.png';\nimport open6 from '../assets/open6.png';\nimport open7 from '../assets/open7.png';\nimport open8 from '../assets/open8.png';\nimport flag from '../assets/flag.png';\nimport mine from '../assets/mine-ceil.png';\nimport mineDeath from '../assets/mine-death.png';\nimport misFlagged from '../assets/misflagged.png';\nimport question from '../assets/question.png';\nimport checked from '../assets/checked.png';\nimport digit0 from '../assets/digit0.png';\nimport digit1 from '../assets/digit1.png';\nimport digit2 from '../assets/digit2.png';\nimport digit3 from '../assets/digit3.png';\nimport digit4 from '../assets/digit4.png';\nimport digit5 from '../assets/digit5.png';\nimport digit6 from '../assets/digit6.png';\nimport digit7 from '../assets/digit7.png';\nimport digit8 from '../assets/digit8.png';\nimport digit9 from '../assets/digit9.png';\nimport digit_ from '../assets/digit-.png';\nvar digits = [digit0, digit1, digit2, digit3, digit4, digit5, digit6, digit7, digit8, digit9];\n\nfunction renderDigits(number) {\n  var _this = this;\n\n  var numberStr;\n\n  if (number < 0) {\n    var _number = -number % 100;\n\n    if (_number === 0) {\n      numberStr = '00';\n    } else if (_number < 10) {\n      numberStr = '0' + _number;\n    } else {\n      numberStr = String(_number);\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n      src: digit_,\n      alt: \"-\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }), numberStr.split('').map(function (n, i) {\n      return /*#__PURE__*/React.createElement(\"img\", {\n        src: digits[n],\n        key: i,\n        alt: n,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }\n      });\n    }));\n  }\n\n  numberStr = number < 999 ? String(number) : '999';\n  if (number < 10) numberStr = '00' + numberStr;else if (number < 100) numberStr = '0' + numberStr;\n  return numberStr.split('').map(function (n, i) {\n    return /*#__PURE__*/React.createElement(\"img\", {\n      key: i,\n      src: digits[n],\n      alt: n,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 20\n      }\n    });\n  });\n}\n\nfunction MineSweeperView(_ref) {\n  var ceils = _ref.ceils,\n      className = _ref.className,\n      changeCeilState = _ref.changeCeilState,\n      onReset = _ref.onReset,\n      openCeil = _ref.openCeil,\n      openCeils = _ref.openCeils,\n      mines = _ref.mines,\n      status = _ref.status,\n      seconds = _ref.seconds,\n      onClose = _ref.onClose,\n      difficulty = _ref.difficulty,\n      openingCeil = _ref.openingCeil,\n      openingCeils = _ref.openingCeils,\n      sameTouchPos = _ref.sameTouchPos,\n      lastTouch = _ref.lastTouch;\n  var face = useRef(null);\n  var dropDown = useRef(null);\n  var topBar = useRef(null);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      mouseDownContent = _useState2[0],\n      setMouseDownContent = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      openOption = _useState4[0],\n      setOpenOption = _useState4[1];\n\n  var _useState5 = useState({\n    index: -1,\n    behavior: ''\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      openBehavior = _useState6[0],\n      setOpenBehavior = _useState6[1];\n\n  function remainMines() {\n    return mines - ceils.filter(function (ceil) {\n      return ceil.state === 'flag' || ceil.state === 'misflagged';\n    }).length;\n  }\n\n  function statusFace() {\n    if (mouseDownContent) return /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"ohh\",\n      src: ohh,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 34\n      }\n    });\n\n    switch (status) {\n      case 'died':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"dead\",\n          src: dead,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 16\n          }\n        });\n\n      case 'won':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"win\",\n          src: win,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 16\n          }\n        });\n\n      default:\n        return /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"smile\",\n          src: smile,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 16\n          }\n        });\n    }\n  }\n\n  function onMouseDownContent(e) {\n    if (e.button !== 0) return;\n    if (face.current.contains(e.target) || status === 'won' || status === 'died') return;\n    setMouseDownContent(true);\n  }\n\n  useEffect(function () {\n    var index = openBehavior.index,\n        behavior = openBehavior.behavior;\n\n    switch (behavior) {\n      case 'single':\n        return openingCeil(index);\n\n      case 'multi':\n        return openingCeils(index);\n\n      default:\n        openingCeil(-1);\n    }\n  }, [openBehavior.index, openBehavior.behavior]);\n\n  function onMouseDownCeils(e, index) {\n    if (e.button === 2 && e.buttons === 2 && index !== -1) {\n      changeCeilState(index);\n    } else if (e.button === 0 && e.buttons === 1) {\n      setOpenBehavior({\n        index: index,\n        behavior: 'single'\n      });\n    } else if (e.buttons === 3) {\n      setOpenBehavior({\n        index: index,\n        behavior: 'multi'\n      });\n    }\n  }\n\n  function onMouseOverCeils(index) {\n    setOpenBehavior({\n      index: index,\n      behavior: openBehavior.behavior\n    });\n  }\n\n  function onMouseUpCeils() {\n    var behavior = openBehavior.behavior,\n        index = openBehavior.index;\n    if (index === -1) return;\n\n    if (behavior === 'single') {\n      openCeil(index);\n    } else if (behavior === 'multi') {\n      openCeils(index);\n    }\n  }\n\n  function hoverOption(option) {\n    if (openOption) setOpenOption(option);\n  }\n\n  function onMouseUp(e) {\n    setOpenBehavior({\n      index: -1,\n      behavior: ''\n    });\n    setMouseDownContent(false);\n    if (!dropDown.current.contains(e.target)) setOpenOption('');\n  }\n\n  function onTouchEndDropdown(e) {\n    if (!dropDown.current.contains(e.target) && !topBar.current.contains(e.target)) setOpenOption('');\n  }\n\n  function onTouchEndCeils(e) {\n    var index = Array.prototype.indexOf.call(e.currentTarget.children, e.target.closest('.mine__ceil'));\n    if (index === -1 || !sameTouchPos) return;\n\n    if (new Date() - lastTouch < 150) {\n      if (ceils[index].state === 'open') {\n        openCeils(index);\n      } else {\n        openCeil(index);\n      }\n    } else {\n      changeCeilState(index);\n    }\n  }\n\n  useEffect(function () {\n    window.addEventListener('touchend', onTouchEndDropdown);\n    window.addEventListener('mouseup', onMouseUp);\n    return function () {\n      window.removeEventListener('mouseup', onMouseUp);\n      window.removeEventListener('touchend', onTouchEndDropdown);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    onContextMenu: function onContextMenu(e) {\n      return e.preventDefault();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-downs\",\n    ref: dropDown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      visibility: openOption === 'Game' ? 'visible' : 'hidden'\n    },\n    className: \"mine__drop-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, \"Game\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__row\",\n    onMouseUp: function onMouseUp() {\n      return onReset();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }, \"New\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__separator\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__row\",\n    onMouseUp: function onMouseUp() {\n      return onReset('Beginner');\n    },\n    onTouchStart: function onTouchStart() {\n      return onReset('Beginner');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 15\n    }\n  }, difficulty === 'Beginner' && /*#__PURE__*/React.createElement(\"img\", {\n    src: checked,\n    alt: \"checked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 15\n    }\n  }, \"Beginner\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mine__drop-down__hot-key\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__row\",\n    onMouseUp: function onMouseUp() {\n      return onReset('Intermediate');\n    },\n    onTouchStart: function onTouchStart() {\n      return onReset('Intermediate');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }, difficulty === 'Intermediate' && /*#__PURE__*/React.createElement(\"img\", {\n    src: checked,\n    alt: \"checked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 15\n    }\n  }, \"Intermediate\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mine__drop-down__hot-key\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__row\",\n    onMouseUp: function onMouseUp() {\n      return onReset('Expert');\n    },\n    onTouchStart: function onTouchStart() {\n      return onReset('Expert');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 15\n    }\n  }, difficulty === 'Expert' && /*#__PURE__*/React.createElement(\"img\", {\n    src: checked,\n    alt: \"checked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 15\n    }\n  }, \"Expert\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mine__drop-down__hot-key\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      visibility: openOption === 'Help' ? 'visible' : 'hidden'\n    },\n    className: \"mine__drop-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 11\n    }\n  }, \"Help\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"mine__drop-down__text\",\n    href: \"https://github.com/JamesCodes0/Minesweeper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 15\n    }\n  }, \"Github\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mine__drop-down__hot-key\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__drop-down__arrow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 15\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__top-bar\",\n    ref: topBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onMouseDown: function onMouseDown() {\n      return setOpenOption('Game');\n    },\n    onTouchStart: function onTouchStart() {\n      return setOpenOption(openOption ? '' : 'Game');\n    },\n    onMouseOver: function onMouseOver() {\n      return hoverOption('Game');\n    },\n    className: \"mine__top-bar__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 9\n    }\n  }, \"Game\"), /*#__PURE__*/React.createElement(\"div\", {\n    onMouseDown: function onMouseDown() {\n      return setOpenOption('Help');\n    },\n    onTouchStart: function onTouchStart() {\n      return setOpenOption(openOption ? '' : 'Help');\n    },\n    onMouseOver: function onMouseOver() {\n      return hoverOption('Help');\n    },\n    className: \"mine__top-bar__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 9\n    }\n  }, \"Help\")), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"mine__content\",\n    onMouseDown: onMouseDownContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__score-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__digits__outer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 11\n    }\n  }, renderDigits(remainMines())), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__face__outer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    ref: face,\n    className: \"mine__face\",\n    onClick: function onClick() {\n      return onReset();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }\n  }, statusFace(), /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"smile\",\n    src: smile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__digits__outer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 11\n    }\n  }, renderDigits(seconds))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mine__content__inner\",\n    onTouchEnd: onTouchEndCeils,\n    onMouseUp: onMouseUpCeils,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Ceils, {\n    ceils: ceils,\n    onMouseDown: onMouseDownCeils,\n    onMouseEnter: onMouseOverCeils,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 11\n    }\n  }))));\n}\n\nfunction getTextImg(index) {\n  return [empty, open1, open2, open3, open4, open5, open6, open7, open8][index];\n}\n\nfunction Ceils(_ref2) {\n  var _this2 = this;\n\n  var ceils = _ref2.ceils,\n      _onMouseDown = _ref2.onMouseDown,\n      _onMouseEnter = _ref2.onMouseEnter;\n\n  function renderContent(ceil) {\n    var state = ceil.state,\n        minesAround = ceil.minesAround,\n        opening = ceil.opening;\n\n    switch (state) {\n      case 'open':\n        return /*#__PURE__*/React.createElement(MinesAround, {\n          mines: minesAround,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 16\n          }\n        });\n\n      case 'flag':\n        return /*#__PURE__*/React.createElement(Flag, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 16\n          }\n        });\n\n      case 'misflagged':\n        return /*#__PURE__*/React.createElement(MisFlagged, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 16\n          }\n        });\n\n      case 'mine':\n        return /*#__PURE__*/React.createElement(Mine, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 16\n          }\n        });\n\n      case 'die':\n        return /*#__PURE__*/React.createElement(Die, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 16\n          }\n        });\n\n      case 'unknown':\n        return opening ? /*#__PURE__*/React.createElement(QuestionOpen, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 26\n          }\n        }) : /*#__PURE__*/React.createElement(Question, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 45\n          }\n        });\n\n      default:\n        return opening ? /*#__PURE__*/React.createElement(CeilBackgroundOpen, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 26\n          }\n        }) : /*#__PURE__*/React.createElement(CeilBackgroundCover, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 51\n          }\n        });\n    }\n  }\n\n  return ceils.map(function (ceil, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      onMouseEnter: function onMouseEnter() {\n        return _onMouseEnter(index);\n      },\n      onMouseDown: function onMouseDown(e) {\n        return _onMouseDown(e, index);\n      },\n      className: \"mine__ceil\",\n      index: index,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 5\n      }\n    }, renderContent(ceil));\n  });\n}\n\nvar Die = function Die() {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CeilBackgroundOpen, {\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"death\",\n    src: mineDeath,\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar MisFlagged = function MisFlagged() {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CeilBackgroundOpen, {\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"misFlagged\",\n    src: misFlagged,\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar Flag = function Flag() {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CeilBackgroundCover, {\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"flag\",\n    src: flag,\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar MinesAround = function MinesAround(_ref3) {\n  var mines = _ref3.mines;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CeilBackgroundOpen, {\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"mines-around\",\n    src: getTextImg(mines),\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar Question = function Question() {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CeilBackgroundCover, {\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"question\",\n    src: question,\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar QuestionOpen = function QuestionOpen() {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CeilBackgroundOpen, {\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"question\",\n    src: question,\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar Mine = function Mine() {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CeilBackgroundOpen, {\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"mine\",\n    src: mine,\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar CeilBackgroundCover = styled.div(_templateObject());\nvar CeilBackgroundOpen = styled.div(_templateObject2());\nexport default styled(MineSweeperView)(_templateObject3(), function (_ref4) {\n  var platform = _ref4.platform;\n  return platform === 'desktop' ? '#FFF' : '#000';\n}, function (_ref5) {\n  var platform = _ref5.platform;\n  return platform === 'desktop' ? '#0b61ff' : 'transparent';\n}, function (_ref6) {\n  var columns = _ref6.columns;\n  return columns;\n}, function (_ref7) {\n  var rows = _ref7.rows;\n  return rows;\n});","map":{"version":3,"sources":["C:/users/jtset/OneDrive/Documents/Code/Projects/minesweeper/minesweeper/src/Minesweeper/MinesweeperView.js"],"names":["React","useEffect","useRef","useState","styled","dead","smile","win","ohh","empty","open1","open2","open3","open4","open5","open6","open7","open8","flag","mine","mineDeath","misFlagged","question","checked","digit0","digit1","digit2","digit3","digit4","digit5","digit6","digit7","digit8","digit9","digit_","digits","renderDigits","number","numberStr","_number","String","split","map","n","i","MineSweeperView","ceils","className","changeCeilState","onReset","openCeil","openCeils","mines","status","seconds","onClose","difficulty","openingCeil","openingCeils","sameTouchPos","lastTouch","face","dropDown","topBar","mouseDownContent","setMouseDownContent","openOption","setOpenOption","index","behavior","openBehavior","setOpenBehavior","remainMines","filter","ceil","state","length","statusFace","onMouseDownContent","e","button","current","contains","target","onMouseDownCeils","buttons","onMouseOverCeils","onMouseUpCeils","hoverOption","option","onMouseUp","onTouchEndDropdown","onTouchEndCeils","Array","prototype","indexOf","call","currentTarget","children","closest","Date","window","addEventListener","removeEventListener","preventDefault","visibility","getTextImg","Ceils","onMouseDown","onMouseEnter","renderContent","minesAround","opening","Die","MisFlagged","Flag","MinesAround","Question","QuestionOpen","Mine","CeilBackgroundCover","div","CeilBackgroundOpen","platform","columns","rows"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport dead from '../assets/dead.png';\r\nimport smile from '../assets/smile.png';\r\nimport win from '../assets/win.png';\r\nimport ohh from '../assets/ohh.png';\r\nimport empty from '../assets/empty.png';\r\nimport open1 from '../assets/open1.png';\r\nimport open2 from '../assets/open2.png';\r\nimport open3 from '../assets/open3.png';\r\nimport open4 from '../assets/open4.png';\r\nimport open5 from '../assets/open5.png';\r\nimport open6 from '../assets/open6.png';\r\nimport open7 from '../assets/open7.png';\r\nimport open8 from '../assets/open8.png';\r\nimport flag from '../assets/flag.png';\r\nimport mine from '../assets/mine-ceil.png';\r\nimport mineDeath from '../assets/mine-death.png';\r\nimport misFlagged from '../assets/misflagged.png';\r\nimport question from '../assets/question.png';\r\nimport checked from '../assets/checked.png';\r\nimport digit0 from '../assets/digit0.png';\r\nimport digit1 from '../assets/digit1.png';\r\nimport digit2 from '../assets/digit2.png';\r\nimport digit3 from '../assets/digit3.png';\r\nimport digit4 from '../assets/digit4.png';\r\nimport digit5 from '../assets/digit5.png';\r\nimport digit6 from '../assets/digit6.png';\r\nimport digit7 from '../assets/digit7.png';\r\nimport digit8 from '../assets/digit8.png';\r\nimport digit9 from '../assets/digit9.png';\r\nimport digit_ from '../assets/digit-.png';\r\n\r\nconst digits = [\r\n  digit0,\r\n  digit1,\r\n  digit2,\r\n  digit3,\r\n  digit4,\r\n  digit5,\r\n  digit6,\r\n  digit7,\r\n  digit8,\r\n  digit9,\r\n];\r\nfunction renderDigits(number) {\r\n  let numberStr;\r\n  if (number < 0) {\r\n    const _number = -number % 100;\r\n    if (_number === 0) {\r\n      numberStr = '00';\r\n    } else if (_number < 10) {\r\n      numberStr = '0' + _number;\r\n    } else {\r\n      numberStr = String(_number);\r\n    }\r\n    return (\r\n      <>\r\n        <img src={digit_} alt=\"-\" />\r\n        {numberStr.split('').map((n, i) => (\r\n          <img src={digits[n]} key={i} alt={n} />\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\n\r\n  numberStr = number < 999 ? String(number) : '999';\r\n  if (number < 10) numberStr = '00' + numberStr;\r\n  else if (number < 100) numberStr = '0' + numberStr;\r\n  return numberStr\r\n    .split('')\r\n    .map((n, i) => <img key={i} src={digits[n]} alt={n} />);\r\n}\r\n\r\nfunction MineSweeperView({\r\n  ceils,\r\n  className,\r\n  changeCeilState,\r\n  onReset,\r\n  openCeil,\r\n  openCeils,\r\n  mines,\r\n  status,\r\n  seconds,\r\n  onClose,\r\n  difficulty,\r\n  openingCeil,\r\n  openingCeils,\r\n  sameTouchPos,\r\n  lastTouch,\r\n}) {\r\n  const face = useRef(null);\r\n  const dropDown = useRef(null);\r\n  const topBar = useRef(null);\r\n  const [mouseDownContent, setMouseDownContent] = useState(false);\r\n  const [openOption, setOpenOption] = useState(null);\r\n  const [openBehavior, setOpenBehavior] = useState({ index: -1, behavior: '' });\r\n  function remainMines() {\r\n    return (\r\n      mines -\r\n      ceils.filter(ceil => ceil.state === 'flag' || ceil.state === 'misflagged')\r\n        .length\r\n    );\r\n  }\r\n  function statusFace() {\r\n    if (mouseDownContent) return <img alt=\"ohh\" src={ohh} />;\r\n    switch (status) {\r\n      case 'died':\r\n        return <img alt=\"dead\" src={dead} />;\r\n      case 'won':\r\n        return <img alt=\"win\" src={win} />;\r\n      default:\r\n        return <img alt=\"smile\" src={smile} />;\r\n    }\r\n  }\r\n  function onMouseDownContent(e) {\r\n    if (e.button !== 0) return;\r\n    if (\r\n      face.current.contains(e.target) ||\r\n      status === 'won' ||\r\n      status === 'died'\r\n    )\r\n      return;\r\n    setMouseDownContent(true);\r\n  }\r\n  useEffect(() => {\r\n    const { index, behavior } = openBehavior;\r\n    switch (behavior) {\r\n      case 'single':\r\n        return openingCeil(index);\r\n      case 'multi':\r\n        return openingCeils(index);\r\n      default:\r\n        openingCeil(-1);\r\n    }\r\n  }, [openBehavior.index, openBehavior.behavior]);\r\n  function onMouseDownCeils(e, index) {\r\n    if (e.button === 2 && e.buttons === 2 && index !== -1) {\r\n      changeCeilState(index);\r\n    } else if (e.button === 0 && e.buttons === 1) {\r\n      setOpenBehavior({\r\n        index,\r\n        behavior: 'single',\r\n      });\r\n    } else if (e.buttons === 3) {\r\n      setOpenBehavior({\r\n        index,\r\n        behavior: 'multi',\r\n      });\r\n    }\r\n  }\r\n  function onMouseOverCeils(index) {\r\n    setOpenBehavior({\r\n      index,\r\n      behavior: openBehavior.behavior,\r\n    });\r\n  }\r\n  function onMouseUpCeils() {\r\n    const { behavior, index } = openBehavior;\r\n    if (index === -1) return;\r\n    if (behavior === 'single') {\r\n      openCeil(index);\r\n    } else if (behavior === 'multi') {\r\n      openCeils(index);\r\n    }\r\n  }\r\n  function hoverOption(option) {\r\n    if (openOption) setOpenOption(option);\r\n  }\r\n  function onMouseUp(e) {\r\n    setOpenBehavior({ index: -1, behavior: '' });\r\n    setMouseDownContent(false);\r\n    if (!dropDown.current.contains(e.target)) setOpenOption('');\r\n  }\r\n  function onTouchEndDropdown(e) {\r\n    if (\r\n      !dropDown.current.contains(e.target) &&\r\n      !topBar.current.contains(e.target)\r\n    )\r\n      setOpenOption('');\r\n  }\r\n  function onTouchEndCeils(e) {\r\n    const index = Array.prototype.indexOf.call(\r\n      e.currentTarget.children,\r\n      e.target.closest('.mine__ceil'),\r\n    );\r\n    if (index === -1 || !sameTouchPos) return;\r\n    if (new Date() - lastTouch < 150) {\r\n      if (ceils[index].state === 'open') {\r\n        openCeils(index);\r\n      } else {\r\n        openCeil(index);\r\n      }\r\n    } else {\r\n      changeCeilState(index);\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    window.addEventListener('touchend', onTouchEndDropdown);\r\n    window.addEventListener('mouseup', onMouseUp);\r\n    return () => {\r\n      window.removeEventListener('mouseup', onMouseUp);\r\n      window.removeEventListener('touchend', onTouchEndDropdown);\r\n    };\r\n  }, []);\r\n  return (\r\n    <div className={className} onContextMenu={e => e.preventDefault()}>\r\n      <div className=\"mine__drop-downs\" ref={dropDown}>\r\n        <div\r\n          style={{ visibility: openOption === 'Game' ? 'visible' : 'hidden' }}\r\n          className=\"mine__drop-down\"\r\n        >\r\n          <div className=\"mine__drop-down__title\">Game</div>\r\n          <div className=\"mine__drop-down__menu\">\r\n            <div className=\"mine__drop-down__row\" onMouseUp={() => onReset()}>\r\n              <div className=\"mine__drop-down__text\">New</div>\r\n              <div className=\"mine__drop-down__arrow\" />\r\n            </div>\r\n            <div className=\"mine__drop-down__separator\" />\r\n            <div\r\n              className=\"mine__drop-down__row\"\r\n              onMouseUp={() => onReset('Beginner')}\r\n              onTouchStart={() => onReset('Beginner')}\r\n            >\r\n              <div className=\"mine__drop-down__check\">\r\n                {difficulty === 'Beginner' && (\r\n                  <img src={checked} alt=\"checked\" />\r\n                )}\r\n              </div>\r\n              <span>Beginner</span>\r\n              <span className=\"mine__drop-down__hot-key\" />\r\n              <div className=\"mine__drop-down__arrow\" />\r\n            </div>\r\n            <div\r\n              className=\"mine__drop-down__row\"\r\n              onMouseUp={() => onReset('Intermediate')}\r\n              onTouchStart={() => onReset('Intermediate')}\r\n            >\r\n              <div className=\"mine__drop-down__check\">\r\n                {difficulty === 'Intermediate' && (\r\n                  <img src={checked} alt=\"checked\" />\r\n                )}\r\n              </div>\r\n              <span>Intermediate</span>\r\n              <span className=\"mine__drop-down__hot-key\" />\r\n              <div className=\"mine__drop-down__arrow\" />\r\n            </div>\r\n            <div\r\n              className=\"mine__drop-down__row\"\r\n              onMouseUp={() => onReset('Expert')}\r\n              onTouchStart={() => onReset('Expert')}\r\n            >\r\n              <div className=\"mine__drop-down__check\">\r\n                {difficulty === 'Expert' && <img src={checked} alt=\"checked\" />}\r\n              </div>\r\n              <span>Expert</span>\r\n              <span className=\"mine__drop-down__hot-key\" />\r\n              <div className=\"mine__drop-down__arrow\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{ visibility: openOption === 'Help' ? 'visible' : 'hidden' }}\r\n          className=\"mine__drop-down\"\r\n        >\r\n          <div className=\"mine__drop-down__title\">Help</div>\r\n          <div className=\"mine__drop-down__menu\">\r\n            <div className=\"mine__drop-down__row\">\r\n              <div className=\"mine__drop-down__check\" />\r\n              <a\r\n                className=\"mine__drop-down__text\"\r\n                href=\"https://github.com/JamesCodes0/Minesweeper\"\r\n              >\r\n                Github\r\n              </a>\r\n              <span className=\"mine__drop-down__hot-key\" />\r\n              <div className=\"mine__drop-down__arrow\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"mine__top-bar\" ref={topBar}>\r\n        <div\r\n          onMouseDown={() => setOpenOption('Game')}\r\n          onTouchStart={() => setOpenOption(openOption ? '' : 'Game')}\r\n          onMouseOver={() => hoverOption('Game')}\r\n          className=\"mine__top-bar__text\"\r\n        >\r\n          Game\r\n        </div>\r\n        <div\r\n          onMouseDown={() => setOpenOption('Help')}\r\n          onTouchStart={() => setOpenOption(openOption ? '' : 'Help')}\r\n          onMouseOver={() => hoverOption('Help')}\r\n          className=\"mine__top-bar__text\"\r\n        >\r\n          Help\r\n        </div>\r\n      </div>\r\n      <section className=\"mine__content\" onMouseDown={onMouseDownContent}>\r\n        <div className=\"mine__score-bar\">\r\n          <div className=\"mine__digits__outer\">\r\n            {renderDigits(remainMines())}\r\n          </div>\r\n          <div className=\"mine__face__outer\">\r\n            <button ref={face} className=\"mine__face\" onClick={() => onReset()}>\r\n              {statusFace()}\r\n              <img alt=\"smile\" src={smile} />\r\n            </button>\r\n          </div>\r\n          <div className=\"mine__digits__outer\">{renderDigits(seconds)}</div>\r\n        </div>\r\n        <div\r\n          className=\"mine__content__inner\"\r\n          onTouchEnd={onTouchEndCeils}\r\n          onMouseUp={onMouseUpCeils}\r\n        >\r\n          <Ceils\r\n            ceils={ceils}\r\n            onMouseDown={onMouseDownCeils}\r\n            onMouseEnter={onMouseOverCeils}\r\n          />\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\nfunction getTextImg(index) {\r\n  return [empty, open1, open2, open3, open4, open5, open6, open7, open8][index];\r\n}\r\nfunction Ceils({ ceils, onMouseDown, onMouseEnter }) {\r\n  function renderContent(ceil) {\r\n    const { state, minesAround, opening } = ceil;\r\n    switch (state) {\r\n      case 'open':\r\n        return <MinesAround mines={minesAround} />;\r\n      case 'flag':\r\n        return <Flag />;\r\n      case 'misflagged':\r\n        return <MisFlagged />;\r\n      case 'mine':\r\n        return <Mine />;\r\n      case 'die':\r\n        return <Die />;\r\n      case 'unknown':\r\n        return opening ? <QuestionOpen /> : <Question />;\r\n      default:\r\n        return opening ? <CeilBackgroundOpen /> : <CeilBackgroundCover />;\r\n    }\r\n  }\r\n\r\n  return ceils.map((ceil, index) => (\r\n    <div\r\n      key={index}\r\n      onMouseEnter={() => onMouseEnter(index)}\r\n      onMouseDown={e => onMouseDown(e, index)}\r\n      className=\"mine__ceil\"\r\n      index={index}\r\n    >\r\n      {renderContent(ceil)}\r\n    </div>\r\n  ));\r\n}\r\n\r\nconst Die = () => (\r\n  <>\r\n    <CeilBackgroundOpen />\r\n    <img alt=\"death\" src={mineDeath} />\r\n  </>\r\n);\r\nconst MisFlagged = () => (\r\n  <>\r\n    <CeilBackgroundOpen />\r\n    <img alt=\"misFlagged\" src={misFlagged} />\r\n  </>\r\n);\r\nconst Flag = () => (\r\n  <>\r\n    <CeilBackgroundCover />\r\n    <img alt=\"flag\" src={flag} />\r\n  </>\r\n);\r\nconst MinesAround = ({ mines }) => (\r\n  <>\r\n    <CeilBackgroundOpen />\r\n    <img alt=\"mines-around\" src={getTextImg(mines)} />\r\n  </>\r\n);\r\nconst Question = () => (\r\n  <>\r\n    <CeilBackgroundCover />\r\n    <img alt=\"question\" src={question} />\r\n  </>\r\n);\r\nconst QuestionOpen = () => (\r\n  <>\r\n    <CeilBackgroundOpen />\r\n    <img alt=\"question\" src={question} />\r\n  </>\r\n);\r\nconst Mine = () => (\r\n  <>\r\n    <CeilBackgroundOpen />\r\n    <img alt=\"mine\" src={mine} />\r\n  </>\r\n);\r\n\r\nconst CeilBackgroundCover = styled.div`\r\n  position: absolute;\r\n  width: 16px;\r\n  height: 16px;\r\n  border-left: rgb(245, 245, 245) solid 2px;\r\n  border-top: rgb(245, 245, 245) solid 2px;\r\n  border-right: rgb(128, 128, 128) solid 2px;\r\n  border-bottom: rgb(128, 128, 128) solid 2px;\r\n`;\r\nconst CeilBackgroundOpen = styled.div`\r\n  position: absolute;\r\n  width: 16px;\r\n  height: 16px;\r\n  border-left: rgb(128, 128, 128) solid 1px;\r\n  border-top: rgb(128, 128, 128) solid 1px;\r\n`;\r\n\r\nexport default styled(MineSweeperView)`\r\n  display: inline-block;\r\n  img {\r\n    pointer-events: none;\r\n  }\r\n  .mine__drop-downs {\r\n    position: absolute;\r\n    display: flex;\r\n    height: 20px;\r\n  }\r\n  .mine__drop-down {\r\n    position: relative;\r\n    z-index: 1;\r\n  }\r\n  .mine__drop-down__title {\r\n    padding: 0 5px;\r\n    height: 100%;\r\n    line-height: 20px;\r\n    font-size: 11px;\r\n    color: white;\r\n    background-color: #1660e8;\r\n  }\r\n  .mine__drop-down__menu {\r\n    background-color: white;\r\n    position: absolute;\r\n    box-shadow: 2px 2px 1px rgb(100, 100, 100);\r\n    border: 1px solid gray;\r\n    padding: 2px;\r\n    display: grid;\r\n    grid-template-columns: 18px auto auto 15px;\r\n    line-height: 18px;\r\n    font-size: 11px;\r\n  }\r\n  .mine__drop-down__row {\r\n    display: contents;\r\n    &:hover > * {\r\n      background: #e99f17;\r\n      filter: invert(100%);\r\n    }\r\n  }\r\n  .mine__drop-down__separator {\r\n    grid-column: 1 / 5;\r\n    height: 1px;\r\n    background-color: gray;\r\n    margin: 3px 1px;\r\n  }\r\n  .mine__drop-down__check {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .mine__drop-down__arrow {\r\n  }\r\n  .mine__drop-down__hot-key {\r\n    padding-left: 5px;\r\n  }\r\n  .mine__drop-down__text {\r\n    white-space: nowrap;\r\n  }\r\n  .mine__top-bar {\r\n    position: relative;\r\n    display: flex;\r\n    height: 20px;\r\n    background-color: rgb(236, 233, 216);\r\n  }\r\n  .mine__top-bar__text {\r\n    padding: 0 5px;\r\n    height: 100%;\r\n    line-height: 20px;\r\n    font-size: 11px;\r\n    &:hover {\r\n      color: ${({ platform }) => (platform === 'desktop' ? '#FFF' : '#000')};\r\n      background-color: ${({ platform }) =>\r\n        platform === 'desktop' ? '#0b61ff' : 'transparent'};\r\n    }\r\n  }\r\n  .mine__content {\r\n    border-left: rgb(245, 245, 245) solid 3px;\r\n    border-top: rgb(245, 245, 245) solid 3px;\r\n    background-color: rgb(192, 192, 192);\r\n    padding: 5px;\r\n  }\r\n  .mine__score-bar {\r\n    height: 34px;\r\n    border-radius: 1px;\r\n    border-top: rgb(128, 128, 128) solid 2px;\r\n    border-left: rgb(128, 128, 128) solid 2px;\r\n    border-right: rgb(245, 245, 245) solid 2px;\r\n    border-bottom: rgb(245, 245, 245) solid 2px;\r\n    margin-bottom: 5px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 3px 7px 3px 4px;\r\n  }\r\n  .mine__digits__outer {\r\n    width: 40px;\r\n    height: 24px;\r\n    border-width: 0 1px 1px 0;\r\n    border-style: solid;\r\n    border-color: #fff;\r\n    text-align: right;\r\n  }\r\n  .mine__face__outer {\r\n    width: 24px;\r\n    height: 24px;\r\n    border-top: 1px solid rgb(128, 128, 128);\r\n    border-left: 1px solid rgb(128, 128, 128);\r\n    border-radius: 2px;\r\n    transform: translateX(1px);\r\n  }\r\n  .mine__face {\r\n    border-radius: 2px;\r\n    height: 100%;\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: rgb(192, 192, 192);\r\n    border-width: 2px;\r\n    border-style: solid;\r\n    border-color: rgb(245, 245, 245) rgb(128, 128, 128) rgb(128, 128, 128)\r\n      rgb(245, 245, 245);\r\n    outline: none;\r\n    &:active:hover {\r\n      border-width: 1px;\r\n      border-color: rgb(128, 128, 128);\r\n      img {\r\n        transform: translate(1px, 1px);\r\n      }\r\n      img:nth-child(1) {\r\n        display: none;\r\n      }\r\n      img:nth-child(2) {\r\n        display: block;\r\n      }\r\n    }\r\n    img:nth-child(2) {\r\n      display: none;\r\n    }\r\n  }\r\n  .mine__content__inner {\r\n    display: grid;\r\n    grid-template-columns: repeat(${({ columns }) => columns}, 16px);\r\n    grid-template-rows: repeat(${({ rows }) => rows}, 16px);\r\n    border-top: rgb(128, 128, 128) solid 3px;\r\n    border-left: rgb(128, 128, 128) solid 3px;\r\n    border-right: rgb(245, 245, 245) solid 3px;\r\n    border-bottom: rgb(245, 245, 245) solid 3px;\r\n  }\r\n  .mine__ceil {\r\n    position: relative;\r\n    img {\r\n      position: absolute;\r\n      width: 16px;\r\n      height: 16px;\r\n    }\r\n  }\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}